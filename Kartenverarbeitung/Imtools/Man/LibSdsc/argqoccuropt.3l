


     AAAARRRRGGGGQQQQOOOOCCCCCCCCUUUURRRROOOOPPPPTTTT((((3333AAAARRRRGGGG))))    SSSSDDDDSSSSCCCC ((((SSSSeeeepppptttteeeemmmmbbbbeeeerrrr 1111999999991111))))    AAAARRRRGGGGQQQQOOOOCCCCCCCCUUUURRRROOOOPPPPTTTT((((3333AAAARRRRGGGG))))



     NNNNAAAAMMMMEEEE
          ArgQOccurOpt  -  query the commandline option number of an
          option occurrence

     SSSSYYYYNNNNOOOOPPPPSSSSIIIISSSS
          #include "arg.h"

          int ArgErrNo;

          int ArgQOccurOpt( keyword, noccur )
               char *keyword;
               int noccur;

     DDDDEEEESSSSCCCCRRRRIIIIPPPPTTTTIIIIOOOONNNN
          _A_r_g_Q_O_c_c_u_r_O_p_t retrieves information about the commandline
          after it has been parsed by an earlier call to
          _A_r_g_P_a_r_s_e(_3_A_R_G).

          _A_r_g_Q_O_c_c_u_r_O_p_t queries the list of options that occurred on
          the commandline and looks for the _n_o_c_c_u_r-th occurrence of
          the option with keyword _k_e_y_w_o_r_d.  The position of that
          option on the commandline is returned.  Option positions are
          numbered from 0 for the first option and so on.

          For example, in the following commandline, there are only
          two options, though there are five commandline arguments
          (including the command name):

               mycommand -infile myfile.hdf -outfile newfile.hdf

          The first option (option 0) is "-infile myfile.hdf", while
          the second is "-outfile newfile.hdf" (option 1).

          Calling _A_r_g_Q_O_c_c_u_r_O_p_t with a keyword of "outfile" and an
          occurrence count of 0 (for the 1st occurrence of "outfile"),
          returns the option's commandline position of 1 (the second
          full option-value set).

          As a second example, the following commandline is given:

               mycommand -infile file1.hdf -count 42 -infile file2.hdf

          The first option on the commandline is "-infile file1.hdf".
          The second is "-count 42", and the third is "-infile
          file2.hdf".  The following calls to _A_r_g_Q_O_c_c_u_r_O_p_t return
          commandline position values:

               ArgQOccurOpt( "infile", 0 ) returns 0 (first option)
               ArgQOccurOpt( "count", 0 ) returns 1 (second option)
               ArgQOccurOpt( "infile", 1 ) returns 2 (third option)

     RRRREEEETTTTUUUURRRRNNNNSSSS



     PPPPaaaaggggeeee 1111                                          ((((pppprrrriiiinnnntttteeeedddd 6666////33330000////99995555))))






     AAAARRRRGGGGQQQQOOOOCCCCCCCCUUUURRRROOOOPPPPTTTT((((3333AAAARRRRGGGG))))    SSSSDDDDSSSSCCCC ((((SSSSeeeepppptttteeeemmmmbbbbeeeerrrr 1111999999991111))))    AAAARRRRGGGGQQQQOOOOCCCCCCCCUUUURRRROOOOPPPPTTTT((((3333AAAARRRRGGGG))))



          _A_r_g_Q_O_c_c_u_r_O_p_t returns the commandline position number of the
          occurrence of the option.  If _A_r_g_Q_O_c_c_u_r_O_p_t fails to
          complete, it returns -1 and sets the global _A_r_g_E_r_r_N_o to an
          error code indicating the cause of the failure.  The
          following error codes may be generated by _A_r_g_Q_O_c_c_u_r_O_p_t:

          _A_R_G_E_N_O_C_C_U_R = occurrence count is too high or too low
               The _n_o_c_c_u_r argument to _A_r_g_Q_O_c_c_u_r_O_p_t was less than zero
               or greater than the number of occurrences of the option
               on the commandline.

          _A_R_G_E_U_N_K_E_Y_W_O_R_D = keyword unknown
               The keyword is not one of the keywords supplied in the
               _o_p_t_i_o_n_s[] or _e_q_u_i_v[] arrays passed to _A_r_g_P_a_r_s_e(_3_A_R_G)
               and is not one of the truncation abbreviations.

     NNNNOOOOTTTTEEEESSSS
          The commandline options may be placed in commandline order
          by calling _A_r_g_Q_N_O_p_t(3ARG) to determine the total number of
          options, then by calling _A_r_g_Q_O_p_t(3ARG) within a loop to get
          information on each option.

          To get information on an option's occurrence, whatever its
          position on the commandline, call _A_r_g_Q_N_V_a_l_u_e(3ARG) and
          _A_r_g_Q_V_a_l_u_e(3ARG).  _A_r_g_Q_N_O_c_c_u_r(3ARG) returns the number of
          occurrences of an option.

          _A_r_g_Q_O_c_c_u_r_O_p_t is most useful when the position of an option
          on the commandline must be determined.  For instance, to
          find an option and the option that immediately preceded it,
          call _A_r_g_Q_O_c_c_u_r_O_p_t and subtract one.  Then call _A_r_g_Q_O_p_t(3ARG)
          to get information on that preceding option.

     SSSSEEEEEEEE AAAALLLLSSSSOOOO
          ArgIntro(3ARG), ArgParse(3ARG), ArgPError(3ARG),
          ArgQNOccur(3ARG), ArgQNOpt(3ARG), ArgQOpt(3ARG),
          ArgQNValue(3ARG), ArgQValue(3ARG), errno(2), perror(3)

     AAAAUUUUTTTTHHHHOOOORRRRSSSS
          Dave Nadeau
          San Diego Supercomputer Center

     CCCCOOOONNNNTTTTAAAACCCCTTTT
          SDSC consultants, (619)534-5100, ccccoooonnnnssssuuuulllltttt@@@@yyyy1111....ssssddddsssscccc....eeeedddduuuu











     Page 2                                          (printed 6/30/95)



